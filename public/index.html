<!DOCTYPE html>
<html ng-app="Fasten">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <title>Fasten webhooks to web sockets</title>
    
    
    <script src='https://cdn.firebase.com/v0/firebase.js'></script>
    <script src='https://cdn.firebase.com/v0/firebase-simple-login.js'></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.min.js"></script>
    <script src="/app.js"></script>
</head>
<body>
  <h1>Fasten.io</h1>
  
  <div ng-controller="LoginCtrl" >
    <form ng-hide="User.get()">
      <label>Email</label><br>
      <input type="text" ng-model="email">
      <br>
      <label>Password</label><br>
      <input type="password" ng-model="password">
      <br>
      <span style="color:red">{{formError}}</span>
      <hr>
      <button ng-click="login()">Login</button> <!-- or <button ng-click="signup()">Signup</button> -->
    </form>
    
    <div ng-show="User.get()">
      Hello {{User.get().email}} <br>
      <a href="" ng-click="logout()">Logout</a>
      <hr>
      
      <div ng-controller="HooksCtrl">
        <h3>Hooks</h3>
        
        <a href="" ng-click="showHookComposer = true">Add a new hook</a>
        
        <br>
        <br>
        
        <div ng-show="showHookComposer">
          <label for="">Title</label><br>
          <input type="text" ng-model="newHookTitle"><br><br>
          <label for="">Endpoint</label><br>
          http://fasten.io/hooks/ <input type="text" ng-model="newHookEndpoint"><br><br>
          <label for="">Domain</label><br>
          <input type="text" ng-model="newHookDomain"><br>
          <button ng-click="createHook()">Create Hook</button> <a href="" ng-click="showHookComposer = false">Cancel</a>
          <br>
          <br>
        </div>
        
        
        <div ng-show="hooks.length == 0">
          You have no hooks.
        </div>
        
        <div ng-repeat="hook in hooks">
          - <strong>{{hook.title}}:</strong> {{hook.endpoint}} (<span ng-show="showToken">{{hook.token}}</span><a href="" ng-hide="showToken" ng-click="showToken = true">show token</a>) (<a href="" ng-click="removeHook(hook)">Delete</a>)
        </div>
      </div>
      
      
    </div>
  </div>
  
</body>
</html>